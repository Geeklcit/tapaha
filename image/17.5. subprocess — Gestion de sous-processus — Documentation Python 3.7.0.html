<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0052)https://docs.python.org/fr/3/library/subprocess.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    
    <title>17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0</title>
    <link rel="stylesheet" href="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/pydoctheme.css" type="text/css">
    <link rel="stylesheet" href="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/pygments.css" type="text/css">
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/documentation_options.js"></script>
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/jquery.js"></script>
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/underscore.js"></script>
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/doctools.js"></script>
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/translations.js"></script>
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml" title="Recherchez dans Documentation Python 3.7.0" href="https://docs.python.org/fr/3/_static/opensearch.xml">
    <link rel="author" title="À propos de ces documents" href="https://docs.python.org/fr/3/about.html">
    <link rel="index" title="Index" href="https://docs.python.org/fr/3/genindex.html">
    <link rel="search" title="Recherche" href="https://docs.python.org/fr/3/search.html">
    <link rel="copyright" title="Copyright" href="https://docs.python.org/fr/3/copyright.html">
    <link rel="next" title="17.6. sched — Event scheduler" href="https://docs.python.org/fr/3/library/sched.html">
    <link rel="prev" title="17.4. concurrent.futures — Launching parallel tasks" href="https://docs.python.org/fr/3/library/concurrent.futures.html">
    <link rel="shortcut icon" type="image/png" href="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/py.png">
    <link rel="canonical" href="https://docs.python.org/3/library/subprocess.html">
    
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/copybutton.js"></script>
    <script type="text/javascript" src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/switchers.js"></script>
    
    
 

  </head><body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://docs.python.org/fr/3/genindex.html" title="Index général" accesskey="I">index</a></li>
        <li class="right">
          <a href="https://docs.python.org/fr/3/py-modindex.html" title="Index des modules Python">modules</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/fr/3/library/sched.html" title="17.6. sched — Event scheduler" accesskey="N">suivant</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/fr/3/library/concurrent.futures.html" title="17.4. concurrent.futures — Launching parallel tasks" accesskey="P">précédent</a> |</li>
        <li><img src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/py.png" alt="" style="vertical-align: middle; margin-top: -1px"></li>
        <li><a href="https://www.python.org/">Python</a> »</li>
        <li>
          <span class="language_switcher_placeholder"><select><option value="en">English</option><option value="fr" selected="selected">French</option><option value="ja">Japanese</option><option value="ko">Korean</option></select></span>
          <span class="version_switcher_placeholder"><select><option value="3.8">dev (3.8)</option><option value="3.7" selected="selected">3.7.0</option><option value="3.6">3.6</option><option value="3.5">3.5</option><option value="2.7">2.7</option></select></span>
          <a href="https://docs.python.org/fr/3/index.html">Documentation</a> »
        </li>

          <li class="nav-item nav-item-1"><a href="https://docs.python.org/fr/3/library/index.html">La bibliothèque standard</a> »</li>
          <li class="nav-item nav-item-2"><a href="https://docs.python.org/fr/3/library/concurrency.html" accesskey="U">17. Exécution concourante</a> »</li>
    <li class="right">
        

    <div class="inline-search" style="" role="search">
        <form class="inline-search" action="https://docs.python.org/fr/3/search.html" method="get">
          <input placeholder="Recherche rapide" type="text" name="q">
          <input type="submit" value="Go">
          <input type="hidden" name="check_keywords" value="yes">
          <input type="hidden" name="area" value="default">
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-subprocess">
<span id="subprocess-subprocess-management"></span><h1>17.5. <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> — Gestion de sous-processus<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="Lien permanent vers ce titre">¶</a></h1>
<p><strong>Code source&nbsp;:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.7/Lib/subprocess.py">Lib/subprocess.py</a></p>
<hr class="docutils">
<p>Le module <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> vous permet de lancer de nouveaux processus, les connecter à des tubes d’entrée/sortie/erreur, et d’obtenir leurs codes de retour.  Ce module a l’intention de remplacer plusieurs anciens modules et fonctions&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">system</span>
<span class="n">os</span><span class="o">.</span><span class="n">spawn</span><span class="o">*</span>
</pre></div>
</div>
<p>De plus amples informations sur comment le module <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> peut être utilisé pour remplacer ces modules et fonctions peuvent être trouvées dans les sections suivantes.</p>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<p class="last"><span class="target" id="index-7"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0324"><strong>PEP 324</strong></a> – PEP proposant le module <em>subprocess</em></p>
</div>
<div class="section" id="using-the-subprocess-module">
<h2>17.5.1. Utiliser le module <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#using-the-subprocess-module" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’approche recommandée pour invoquer un sous-processus et d’utiliser la fonction <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> pour tous les cas d’utilisation qu’il supporte. Pour les cas d’utilisation plus avancés, l’interface inhérente <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> peut être utilisée directement.</p>
<p>La fonction <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> a été ajoutée avec Python 3.5&nbsp;; si vous avez besoin d’une compatibilité avec des versions plus anciennes, référez-vous à la section <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#call-function-trio"><span class="std std-ref">Ancienne interface (API) haut-niveau</span></a>.</p>
<dl class="function">
<dt id="subprocess.run">
<code class="descclassname">subprocess.</code><code class="descname">run</code><span class="sig-paren">(</span><em>args</em>, <em>*</em>, <em>stdin=None</em>, <em>input=None</em>, <em>stdout=None</em>, <em>stderr=None</em>, <em>shell=False</em>, <em>cwd=None</em>, <em>timeout=None</em>, <em>check=False</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>text=None</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lance la commande décrite par <em>args</em>.  Attend que la commande se termine, puis renvoie une instance <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess" title="subprocess.CompletedProcess"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompletedProcess</span></code></a>.</p>
<p>The arguments shown above are merely the most common ones, described below
in <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#frequently-used-arguments"><span class="std std-ref">Arguments fréquemment utilisés</span></a> (hence the use of keyword-only notation
in the abbreviated signature). The full function signature is largely the
same as that of the <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> constructor - most of the arguments to
this function are passed through to that interface. (<em>timeout</em>,  <em>input</em>,
<em>check</em>, and <em>capture_output</em> are not.)</p>
<p>If <em>capture_output</em> is true, stdout and stderr will be captured.
When used, the internal <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> object is automatically created with
<code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code>. The <em>stdout</em> and <em>stderr</em> arguments may
not be used as well.</p>
<p>L’argument <em>timeout</em> est passé à <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a>. Si le <em>timeout</em> expire, le processus enfant sera tué et attendu.  Une exception <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a> sera levée une fois que le processus enfant se sera terminé.</p>
<p>The <em>input</em> argument is passed to <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a> and thus to the
subprocess’s stdin.  If used it must be a byte sequence, or a string if
<em>encoding</em> or <em>errors</em> is specified or <em>text</em> is true.  When
used, the internal <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> object is automatically created with
<code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code>, and the <em>stdin</em> argument may not be used as well.</p>
<p>Si <em>check</em> est vrai, et que le processus s’arrête avec un code de statut non nul, une exception <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> est levée.  Les attributs de cette exception contiennent les arguments, le code de statut, et les sorties standard et d’erreur si elles ont été capturées.</p>
<p>If <em>encoding</em> or <em>errors</em> are specified, or <em>text</em> is true,
file objects for stdin, stdout and stderr are opened in text mode using the
specified <em>encoding</em> and <em>errors</em> or the <a class="reference internal" href="https://docs.python.org/fr/3/library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> default.
The <em>universal_newlines</em> argument is equivalent  to <em>text</em> and is provided
for backwards compatibility. By default, file objects are opened in binary mode.</p>
<p>Si <em>env</em> n’est pas <code class="docutils literal notranslate"><span class="pre">None</span></code>, il doit être un tableau associatif définissant les variables d’environnement du nouveau processus&nbsp;; elles seront utilisées à la place du comportement par défaut qui est d’hériter de l’environnement du processus courant. Il est passé directement à <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>.</p>
<p>Exemples :</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">"ls"</span><span class="p">,</span> <span class="s2">"-l"</span><span class="p">])</span>  <span class="c1"># doesn't capture output</span>
<span class="go">CompletedProcess(args=['ls', '-l'], returncode=0)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">"exit 1"</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">subprocess.CalledProcessError</span><span>: </span><span class="n">Command 'exit 1' returned non-zero exit status 1</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">"ls"</span><span class="p">,</span> <span class="s2">"-l"</span><span class="p">,</span> <span class="s2">"/dev/null"</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">CompletedProcess(args=['ls', '-l', '/dev/null'], returncode=0,</span>
<span class="go">stdout=b'crw-rw-rw- 1 root root 1, 3 Jan 23 16:23 /dev/null\n', stderr=b'')</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.5.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.6: </span>Ajout des paramètres <em>encoding</em> et <em>errors</em></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.7: </span>Added the <em>text</em> parameter, as a more understandable alias of <em>universal_newlines</em>.
Added the <em>capture_output</em> parameter.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="subprocess.CompletedProcess">
<em class="property">class </em><code class="descclassname">subprocess.</code><code class="descname">CompletedProcess</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La valeur de retour de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>, représentant un processus qui s’est terminé.</p>
<dl class="attribute">
<dt id="subprocess.CompletedProcess.args">
<code class="descname">args</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.args" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Les arguments utilisés pour lancer le processus. Cela peut être une liste ou une chaîne de caractères.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CompletedProcess.returncode">
<code class="descname">returncode</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.returncode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le code de statut du processus fils.  Typiquement, un code de statut de 0 indique qu’il s’est exécuté avec succès.</p>
<p>Une valeur négative <code class="docutils literal notranslate"><span class="pre">-N</span></code> indique que le processus enfant a été terminé par un signal <code class="docutils literal notranslate"><span class="pre">N</span></code> (seulement sur les systèmes <em>POSIX</em>).</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CompletedProcess.stdout">
<code class="descname">stdout</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.stdout" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Captured stdout from the child process. A bytes sequence, or a string if
<a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> was called with an encoding, errors, or text=True.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if stdout was not captured.</p>
<p>Si vous avez lancé le processus avec <code class="docutils literal notranslate"><span class="pre">stderr=subprocess.STDOUT</span></code>, les sorties standard et d’erreur seront combinées dans cet attribut, et <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.stderr" title="subprocess.CompletedProcess.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code></a> sera mis à <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CompletedProcess.stderr">
<code class="descname">stderr</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.stderr" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Captured stderr from the child process. A bytes sequence, or a string if
<a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> was called with an encoding, errors, or text=True.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if stderr was not captured.</p>
</dd></dl>

<dl class="method">
<dt id="subprocess.CompletedProcess.check_returncode">
<code class="descname">check_returncode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.check_returncode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CompletedProcess.returncode" title="subprocess.CompletedProcess.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a> n’est pas nul, lève une <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a>.</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.5.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.DEVNULL">
<code class="descclassname">subprocess.</code><code class="descname">DEVNULL</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DEVNULL" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Valeur spéciale qui peut être utilisée pour les arguments <em>stdin</em>, <em>stdout</em> ou <em>stderr</em> de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> et qui indique que le fichier spécial <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.devnull" title="os.devnull"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.devnull</span></code></a> sera utilisé.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.PIPE">
<code class="descclassname">subprocess.</code><code class="descname">PIPE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Valeur spéciale qui peut être utilisée pour les arguments <em>stdin</em>, <em>stdout</em> ou <em>stderr</em> de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> et qui indique qu’un tube vers le flux standard doit être ouvert.  Surtout utile avec <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a>.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.STDOUT">
<code class="descclassname">subprocess.</code><code class="descname">STDOUT</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STDOUT" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Valeur spéciale qui peut être utilisée pour l’argument <em>stderr</em> de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> et qui indique que la sortie d’erreur doit être redirigée vers le même gestionnaire que la sortie standard.</p>
</dd></dl>

<dl class="exception">
<dt id="subprocess.SubprocessError">
<em class="property">exception </em><code class="descclassname">subprocess.</code><code class="descname">SubprocessError</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SubprocessError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Classe de base à toutes les autres exceptions du module.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3.</span></p>
</div>
</dd></dl>

<dl class="exception">
<dt id="subprocess.TimeoutExpired">
<em class="property">exception </em><code class="descclassname">subprocess.</code><code class="descname">TimeoutExpired</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>, levée quand un <em>timeout</em> expire pendant l’attente d’un processus enfant.</p>
<dl class="attribute">
<dt id="subprocess.TimeoutExpired.cmd">
<code class="descname">cmd</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired.cmd" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La commande utilisée pour instancier le processus fils.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.TimeoutExpired.timeout">
<code class="descname">timeout</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired.timeout" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le <em>timeout</em> en secondes.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.TimeoutExpired.output">
<code class="descname">output</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired.output" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La sortie du processus fils, si capturée par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> ou <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a>.  Autrement, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.TimeoutExpired.stdout">
<code class="descname">stdout</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired.stdout" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Alias pour <em>output</em>, afin d’avoir une symétrie avec <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired.stderr" title="subprocess.TimeoutExpired.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.TimeoutExpired.stderr">
<code class="descname">stderr</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired.stderr" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La sortie d’erreur du processus fils, si capturée par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>. Autrement, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.5: </span>Ajout des attributs <em>stdout</em> et <em>stderr</em>.</p>
</div>
</dd></dl>

<dl class="exception">
<dt id="subprocess.CalledProcessError">
<em class="property">exception </em><code class="descclassname">subprocess.</code><code class="descname">CalledProcessError</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>, levée quand un processus lancé par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_call" title="subprocess.check_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_call()</span></code></a> ou <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> renvoie un code de statut non nul.</p>
<dl class="attribute">
<dt id="subprocess.CalledProcessError.returncode">
<code class="descname">returncode</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.returncode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Code de statut du processus fils.  Si le processus a été arrêté par un signal, le code sera négatif et correspondra à l’opposé du numéro de signal.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CalledProcessError.cmd">
<code class="descname">cmd</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.cmd" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La commande utilisée pour instancier le processus fils.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CalledProcessError.output">
<code class="descname">output</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.output" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La sortie du processus fils, si capturée par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> ou <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a>.  Autrement, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CalledProcessError.stdout">
<code class="descname">stdout</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.stdout" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Alias pour <em>output</em>, afin d’avoir une symétrie avec <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.stderr" title="subprocess.CalledProcessError.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stderr</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.CalledProcessError.stderr">
<code class="descname">stderr</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.stderr" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>La sortie d’erreur du processus fils, si capturée par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>. Autrement, <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.5: </span>Ajout des attributs <em>stdout</em> et <em>stderr</em>.</p>
</div>
</dd></dl>

<div class="section" id="frequently-used-arguments">
<span id="id1"></span><h3>17.5.1.1. Arguments fréquemment utilisés<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#frequently-used-arguments" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour supporter un large ensemble de cas, la constructeur de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> (et les fonctions de convenance) acceptent de nombreux arguments optionnels. Pour les cas d’utilisation les plus typiques, beaucoup de ces arguments peuvent sans problème être laissés à leurs valeurs par défaut. Les arguments les plus communément nécessaires sont&nbsp;:</p>
<blockquote>
<div><p><em>args</em> est requis pour tous les appels et doit être une chaîne de caractères ou une séquence d’arguments du programme. Il est généralement préférable de fournir une séquence d’arguments, puisque cela permet au module de s’occuper des potentiels échappements ou guillemets autour des arguments (p. ex. pour permettre des espaces dans des noms de fichiers). Si l’argument est passé comme une simple chaîne, soit <em>shell</em> doit valoir <a class="reference internal" href="https://docs.python.org/fr/3/library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> (voir ci-dessous) soit la chaîne doit simplement contenir le nom du programme à exécuter sans spécifier d’arguments supplémentaires.</p>
<p><em>stdin</em>, <em>stdout</em> et <em>stderr</em> spécifient respectivement les gestionnaires d’entrée standard, de sortie standard et de sortie d’erreur du programme exécuté.  Les valeurs acceptées sont <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a>, un descripteur de fichier existant (nombre entier positif), un objet de fichier, et <code class="docutils literal notranslate"><span class="pre">None</span></code>.  <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a> indique qu’un nouveau tube vers le processus enfant sera créé.  <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a> indique que le fichier spécial <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.devnull" title="os.devnull"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.devnull</span></code></a> sera utilisé.  Avec les paramètres <code class="docutils literal notranslate"><span class="pre">None</span></code> par défaut, aucune redirection ne se produira, les gestionnaires de fichiers du fils seront hérités du parent.  Additionnellement, <em>stderr</em> peut valoir <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STDOUT" title="subprocess.STDOUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">STDOUT</span></code></a>, qui indique que les données de la sortie d’erreur du processus fils doivent être capturées dans le même gestionnaire de fichier que la sortie standard.</p>
<p id="index-1">If <em>encoding</em> or <em>errors</em> are specified, or <em>text</em> (also known as
<em>universal_newlines</em>) is true,
the file objects <em>stdin</em>, <em>stdout</em> and <em>stderr</em> will be opened in text
mode using the <em>encoding</em> and <em>errors</em> specified in the call or the
defaults for <a class="reference internal" href="https://docs.python.org/fr/3/library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a>.</p>
<p>Pour <em>stdin</em>, les caractères de fin de ligne <code class="docutils literal notranslate"><span class="pre">'\n'</span></code> de l’entrée seront convertis vers des séparateurs de ligne par défaut <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.linesep" title="os.linesep"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.linesep</span></code></a>. Pour <em>stdout</em> et <em>stderr</em>, toutes les fins de lignes des sorties seront converties vers <code class="docutils literal notranslate"><span class="pre">'\n'</span></code>.  Pour plus d’informations, voir la documentation de la classe <a class="reference internal" href="https://docs.python.org/fr/3/library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> quand l’argument <em>newline</em> du constructeur est <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Si le mode texte n’est pas utilisé, <em>stdin</em>, <em>stdout</em> et <em>stderr</em> seront ouverts comme des flux binaires. Aucune conversion d’encodage ou de fins de ligne ne sera réalisée.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.6: </span>Ajout des paramètres <em>encoding</em> et <em>errors</em>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7: </span>Added the <em>text</em> parameter as an alias for <em>universal_newlines</em>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">L’attribut <em>newlines</em> des objets <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stdin" title="subprocess.Popen.stdin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Popen.stdin</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stdout" title="subprocess.Popen.stdout"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Popen.stdout</span></code></a> et <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stderr" title="subprocess.Popen.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Popen.stderr</span></code></a> ne sont pas mis à jour par la méthode <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a>.</p>
</div>
<p>Si <em>shell</em> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, la commande spécifiée sera exécutée à travers un <em>shell</em>.  Cela peut être utile si vous utilisez Python pour le contrôle de flot qu’il propose par rapport à beaucoup de <em>shells</em> système et voulez tout de même profiter des autres fonctionnalités des <em>shells</em> telles que les tubes (<em>pipes</em>), les motifs de fichiers, l’expansion des variables d’environnement, et l’expansion du <code class="docutils literal notranslate"><span class="pre">~</span></code> vers le répertoire principal de l’utilisateur.  Cependant, notez que Python lui-même propose l’implémentation de beaucoup de ces fonctionnalités (en particulier <a class="reference internal" href="https://docs.python.org/fr/3/library/glob.html#module-glob" title="glob: Unix shell style pathname pattern expansion."><code class="xref py py-mod docutils literal notranslate"><span class="pre">glob</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/fnmatch.html#module-fnmatch" title="fnmatch: Unix shell style filename pattern matching."><code class="xref py py-mod docutils literal notranslate"><span class="pre">fnmatch</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.walk" title="os.walk"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.walk()</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/os.path.html#os.path.expandvars" title="os.path.expandvars"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expandvars()</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/os.path.html#os.path.expanduser" title="os.path.expanduser"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expanduser()</span></code></a> et <a class="reference internal" href="https://docs.python.org/fr/3/library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a>).</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3: </span>Quand <em>universal_newlines</em> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, la classe utilise l’encodage <a class="reference internal" href="https://docs.python.org/fr/3/library/locale.html#locale.getpreferredencoding" title="locale.getpreferredencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">locale.getpreferredencoding(False)</span></code></a> plutôt que <code class="docutils literal notranslate"><span class="pre">locale.getpreferredencoding()</span></code>.  Voir la classe <a class="reference internal" href="https://docs.python.org/fr/3/library/io.html#io.TextIOWrapper" title="io.TextIOWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.TextIOWrapper</span></code></a> pour plus d’informations sur ce changement.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Lire la section <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#security-considerations">Security Considerations</a> avant d’utiliser <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>.</p>
</div>
</div></blockquote>
<p>Ces options, ainsi que toutes les autres, sont décrites plus en détails dans la documentation du constructeur de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>.</p>
</div>
<div class="section" id="popen-constructor">
<h3>17.5.1.2. Constructeur de <em>Popen</em><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#popen-constructor" title="Lien permanent vers ce titre">¶</a></h3>
<p>La création et la gestion sous-jacentes des processus est gérée par la classe <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>. Elle offre beaucoup de flexibilité de façon à ce que les développeurs soient capables de gérer les cas d’utilisation les moins communs, non couverts par les fonctions de convenance.</p>
<dl class="class">
<dt id="subprocess.Popen">
<em class="property">class </em><code class="descclassname">subprocess.</code><code class="descname">Popen</code><span class="sig-paren">(</span><em>args</em>, <em>bufsize=-1</em>, <em>executable=None</em>, <em>stdin=None</em>, <em>stdout=None</em>, <em>stderr=None</em>, <em>preexec_fn=None</em>, <em>close_fds=True</em>, <em>shell=False</em>, <em>cwd=None</em>, <em>env=None</em>, <em>universal_newlines=False</em>, <em>startupinfo=None</em>, <em>creationflags=0</em>, <em>restore_signals=True</em>, <em>start_new_session=False</em>, <em>pass_fds=()</em>, <em>*</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>text=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Exécute un programme fils dans un nouveau processus.  Sur les systèmes <em>POSIX</em>, la classe utilise un comportement similaire à <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.execvp" title="os.execvp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">os.execvp()</span></code></a> pour exécuter le programme.  Sur Windows, la classe utilise la fonction Windows <code class="docutils literal notranslate"><span class="pre">CreateProcess()</span></code>.  Les arguments de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> sont les suivants.</p>
<p><em>args</em> doit être une séquence d’arguments du programme ou une chaîne seule. Par défaut, le programme à exécuter est le premier élément de <em>args</em> si <em>args</em> est une séquence.  Si <em>args</em> est une chaîne, l’interprétation dépend de la plateforme et est décrite plus bas.  Voir les arguments <em>shell</em> et <em>executable</em> pour d’autres différences avec le comportement par défaut.  Sans autre indication, il est recommandé de passer <em>args</em> comme une séquence.</p>
<p>Sur les systèmes <em>POSIX</em>, si <em>args</em> est une chaîne, elle est interprétée comme le nom ou le chemin du programme à exécuter.  Cependant, cela ne peut être fait que si le programme est passé sans arguments.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><a class="reference internal" href="https://docs.python.org/fr/3/library/shlex.html#shlex.split" title="shlex.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shlex.split()</span></code></a> peut être utilisée pour déterminer le découpage correct de <em>args</em>, spécifiquement dans les cas complexes&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shlex</span><span class="o">,</span> <span class="nn">subprocess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">command_line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="go">/bin/vikings -input eggs.txt -output "spam spam.txt" -cmd "echo '$MONEY'"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">command_line</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="go">['/bin/vikings', '-input', 'eggs.txt', '-output', 'spam spam.txt', '-cmd', "echo '$MONEY'"]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="c1"># Success!</span>
</pre></div>
</div>
<p class="last">Notez en particulier que les options (comme <em>-input</em>) et arguments (comme <em>eggs.txt</em>) qui sont séparés par des espaces dans le <em>shell</em> iront dans des éléments séparés de la liste, alors que les arguments qui nécessitent des guillemets et échappements quand utilisés dans le <em>shell</em> (comme les noms de fichiers contenant des espaces ou la commande <em>echo</em> montrée plus haut) forment des éléments uniques.</p>
</div>
<p>Sous Windows, si <em>args</em> est une séquence, elle sera convertie vers une chaîne de caractères de la manière décrite dans <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#converting-argument-sequence"><span class="std std-ref">Convertir une séquence d’arguments vers une chaîne de caractères sous Windows</span></a>.  Cela fonctionne ainsi parce que la fonction <code class="docutils literal notranslate"><span class="pre">CreateProcess()</span></code> opère sur des chaînes.</p>
<p>L’argument <em>shell</em> (qui vaut <code class="docutils literal notranslate"><span class="pre">False</span></code> par défaut) spécifie s’il faut utiliser un <em>shell</em> comme programme à exécuter.  Si <em>shell</em> vaut <code class="docutils literal notranslate"><span class="pre">True</span></code>, il est recommandé de passer <em>args</em> comme une chaîne de caractères plutôt qu’une séquence.</p>
<p>Sur les systèmes POSIX avec <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, le <em>shell</em> par défaut est <code class="file docutils literal notranslate"><span class="pre">/bin/sh</span></code>.  Si <em>args</em> est une chaîne de caractères, la chaîne spécifie la commande à exécuter à travers le <em>shell</em>.  Cela signifie que la chaîne doit être formatée exactement comme elle le serait si elle était tapée dans l’invite de commandes du <em>shell</em>.  Cela inclut, par exemple, les guillemets ou les <em>backslashs</em> échappant les noms de fichiers contenant des espaces.  Si <em>args</em> est une séquence, le premier élément spécifie la commande, et les éléments supplémentaires seront traités comme des arguments additionnels à passer au <em>shell</em> lui-même.  Pour ainsi dire, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> réalise l’équivalent de&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">Popen</span><span class="p">([</span><span class="s1">'/bin/sh'</span><span class="p">,</span> <span class="s1">'-c'</span><span class="p">,</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">...</span><span class="p">])</span>
</pre></div>
</div>
<p>Sous Windows avec <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, la variable d’environnement <span class="target" id="index-8"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">COMSPEC</span></code> spécifie le <em>shell</em> par défaut.  La seule raison pour laquelle vous devriez spécifier <code class="docutils literal notranslate"><span class="pre">shell=True</span></code> sous Windows est quand la commande que vous souhaitez exécuter est une <em>built-in</em> du <em>shell</em> (p. ex. <strong class="command">dir</strong> ou <strong class="command">copy</strong>).  Vous n’avez pas besoin de <code class="docutils literal notranslate"><span class="pre">shell=True</span></code> pour lancer un fichier batch ou un exécutable console.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Lire la section <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#security-considerations">Security Considerations</a> avant d’utiliser <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>.</p>
</div>
<p><em>bufsize</em> sera fourni comme l’argument correspondant à la fonction <a class="reference internal" href="https://docs.python.org/fr/3/library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>, lors de la création des objets de fichiers pour les tubes <em>stdin</em>/<em>stdout</em>/<em>stderr</em>.</p>
<ul class="simple">
<li><code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code> indique de ne pas utiliser de tampon (les lectures et écritures sont des appels systèmes et peuvent renvoyer des données incomplètes)&nbsp;;</li>
<li><code class="xref py py-const docutils literal notranslate"><span class="pre">1</span></code> indique une mise en cache par ligne (utilisable seulement si <code class="docutils literal notranslate"><span class="pre">universal_newlines=True</span></code>, c’est à dire en mode texte)&nbsp;;</li>
<li>toutes les autres valeurs positives indiquent d’utiliser un tampon d’approximativement cette taille&nbsp;;</li>
<li>un <em>bufsize</em> négatif (par défaut) indique au système d’utiliser la valeur par défaut <em>io.DEFAULT_BUFFER_SIZE</em>.</li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3.1: </span><em>bufsize</em> vaut maintenant -1 par défaut, pour activer par défaut la mise en cache et correspondre au comportement attendu par la plupart des codes.  Dans les versions de Python antérieures à 3.2.4 et 3.3.1, par erreur, la valeur par défaut était <code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code> qui ne réalisait aucune mise en cache et autorisait les lectures incomplètes.  Cela n’était pas intentionnel et ne correspondait pas au comportement de Python 2 attendu par la plupart des codes.</p>
</div>
<p>L’argument <em>executable</em> spécifie un programme de remplacement à exécuter.  Il est très rarement nécessaire.  Quand <code class="docutils literal notranslate"><span class="pre">shell=False</span></code>, <em>executable</em> remplace le programme à exécuter spécifié par <em>args</em>.  Cependant, les arguments originels d”<em>args` sont toujours passés au programme.  La plupart des programmes traitent le programme spécifié par *args</em> comme le nom de la commande, qui peut être différent du programme réellement exécuté.  Sur les systèmes POSIX, le nom tiré d”<em>args</em> devient le nom affiché pour l’exécutable dans des utilitaires tels que <strong class="program">ps</strong>.  Si <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, sur les systèmes POSIX, l’argument <em>executable</em> précise le <em>shell</em> à utiliser plutôt que <code class="file docutils literal notranslate"><span class="pre">/bin/sh</span></code> par défaut.</p>
<p><em>stdin</em>, <em>stdout</em> et <em>stderr</em> spécifient respectivement les gestionnaires d’entrée standard, de sortie standard et de sortie d’erreur du programme exécuté.  Les valeurs acceptées sont <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a>, un descripteur de fichier existant (nombre entier positif), un <a class="reference internal" href="https://docs.python.org/fr/3/glossary.html#term-file-object"><span class="xref std std-term">file object</span></a>, et <code class="docutils literal notranslate"><span class="pre">None</span></code>.  <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a> indique qu’un nouveau tube vers le processus enfant sera créé.  <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DEVNULL" title="subprocess.DEVNULL"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEVNULL</span></code></a> indique que le fichier spécial <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.devnull" title="os.devnull"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.devnull</span></code></a> sera utilisé.  Avec les paramètres <code class="docutils literal notranslate"><span class="pre">None</span></code> par défaut, aucune redirection ne se produira, les gestionnaires de fichiers du fils seront hérités du parent.  Additionnellement, <em>stderr</em> peut valoir <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STDOUT" title="subprocess.STDOUT"><code class="xref py py-data docutils literal notranslate"><span class="pre">STDOUT</span></code></a>, qui indique que les données de la sortie d’erreur du processus fils doivent être capturées dans le même gestionnaire de fichier que la sortie standard.</p>
<p>Si un objet appelable est passé à <em>preexec_fn</em>, cet objet sera appelé dans le processus enfant juste avant d’exécuter le programme.  (POSIX seulement)</p>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Le paramètre <em>preexec_fn</em> n’est pas sain à utiliser en présence d’autres fils d’exécution dans votre application.  Le processus fils pourrait être bloqué (<em>deadlock</em>) avant qu”<em>exec</em> ne soit appelée. Si vous devez utiliser ce paramètre, gardez son utilisation triviale&nbsp;!  Minimisez le nombre de bibliothèques que vous y appelez.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous devez modifier l’environnement du fils, utilisez le paramètre <em>env</em> plutôt que faire cela dans une <em>preexec_fn</em>. Le paramètre <em>start_new_session</em> peut prendre la place de <em>preexec_fn</em> qui était autrefois communément utilisé pour appeler <em>os.setsid()</em> dans le fils.</p>
</div>
<p>If <em>close_fds</em> is true, all file descriptors except <code class="xref py py-const docutils literal notranslate"><span class="pre">0</span></code>, <code class="xref py py-const docutils literal notranslate"><span class="pre">1</span></code> and
<code class="xref py py-const docutils literal notranslate"><span class="pre">2</span></code> will be closed before the child process is executed.  Otherwise
when <em>close_fds</em> is false, file descriptors obey their inheritable flag
as described in <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#fd-inheritance"><span class="std std-ref">Héritage de descripteurs de fichiers</span></a>.</p>
<p>On Windows, if <em>close_fds</em> is true then no handles will be inherited by the
child process unless explicitly passed in the <code class="docutils literal notranslate"><span class="pre">handle_list</span></code> element of
<a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.lpAttributeList" title="subprocess.STARTUPINFO.lpAttributeList"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.lpAttributeList</span></code></a>, or by standard handle redirection.</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.2: </span>la valeur par défaut de <em>close_fds</em> n’est plus <a class="reference internal" href="https://docs.python.org/fr/3/library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a>, comme décrit ci-dessus.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.7: </span>On Windows the default for <em>close_fds</em> was changed from <a class="reference internal" href="https://docs.python.org/fr/3/library/constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> to
<a class="reference internal" href="https://docs.python.org/fr/3/library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> when redirecting the standard handles. It’s now possible to
set <em>close_fds</em> to <a class="reference internal" href="https://docs.python.org/fr/3/library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> when redirecting the standard handles.</p>
</div>
<p><em>pass_fds</em> est une séquence optionnelle de descripteurs de fichiers à garder ouverts entre le parent et l’enfant.  Fournir <em>pass_fds</em> force <em>close_fds</em> à valoir <a class="reference internal" href="https://docs.python.org/fr/3/library/constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a>. (POSIX seulement)</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.2: </span>Ajout du paramètre <em>pass_fds</em>.</p>
</div>
<p>Si <em>cwd</em> n’est pas <code class="docutils literal notranslate"><span class="pre">None</span></code>, la fonction change de répertoire courant pour <em>cwd</em> avant d’exécuter le fils.  <em>cwd</em> peut être un objet <a class="reference internal" href="https://docs.python.org/fr/3/library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> ou un <a class="reference internal" href="https://docs.python.org/fr/3/glossary.html#term-path-like-object"><span class="xref std std-term">chemin-compatible</span></a>.  En particulier, la fonction recherche <em>executable</em> (ou le premier élément d”<em>args</em>) relativement à <em>cwd</em> si le chemin d’exécution est relatif.</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.6: </span>le paramètre <em>cwd</em> accepte un <a class="reference internal" href="https://docs.python.org/fr/3/glossary.html#term-path-like-object"><span class="xref std std-term">path-like object</span></a>.</p>
</div>
<p>Si <em>restore_signals</em> est vrai (par défaut), tous les signaux que Python a mis à <em>SIG_IGN</em> sont restaurés à <em>SIG_DFL</em> dans le processus fils avant l’appel à <em>exec</em>.  Actuellement, cela inclut les signaux <em>SIGPIPE</em>, <em>SIGXFZ</em> et <em>SIGXFSZ</em>.  (POSIX seulement)</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.2: </span>Ajout de <em>restore_signals</em>.</p>
</div>
<p>Si <em>start_new_session</em> est vrai, l’appel système à <em>setsid()</em> sera réalisé dans le processus fils avant l’exécution du sous-processus.  (POSIX seulement)</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.2: </span>Ajout de <em>start_new_session</em>.</p>
</div>
<p>Si <em>env</em> n’est pas <code class="docutils literal notranslate"><span class="pre">None</span></code>, il doit être un tableau associatif définissant les variables d’environnement du nouveau processus&nbsp;; elles seront utilisées à la place du comportement par défaut qui est d’hériter de l’environnement du processus courant.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si spécifié, <em>env</em> doit fournir chaque variable requise pour l’exécution du programme.  Sous Windows, afin d’exécuter un <a class="reference external" href="https://en.wikipedia.org/wiki/Side-by-Side_Assembly">side-by-side assembly</a>, l’environnement <em>env</em> spécifié <strong>doit</strong> contenir une variable <span class="target" id="index-9"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SystemRoot</span></code> valide.</p>
</div>
<p>If <em>encoding</em> or <em>errors</em> are specified, or <em>text</em> is true, the file objects
<em>stdin</em>, <em>stdout</em> and <em>stderr</em> are opened in text mode with the specified
encoding and <em>errors</em>, as described above in <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#frequently-used-arguments"><span class="std std-ref">Arguments fréquemment utilisés</span></a>.
The <em>universal_newlines</em> argument is equivalent  to <em>text</em> and is provided
for backwards compatibility. By default, file objects are opened in binary mode.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.6: </span>Ajout d”<em>encoding</em> et <em>errors</em>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7: </span><em>text</em> was added as a more readable alias for <em>universal_newlines</em>.</p>
</div>
<p>If given, <em>startupinfo</em> will be a <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code class="xref py py-class docutils literal notranslate"><span class="pre">STARTUPINFO</span></code></a> object, which is
passed to the underlying <code class="docutils literal notranslate"><span class="pre">CreateProcess</span></code> function.
<em>creationflags</em>, if given, can be one or more of the following flags:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NEW_CONSOLE" title="subprocess.CREATE_NEW_CONSOLE"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NEW_CONSOLE</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NEW_PROCESS_GROUP" title="subprocess.CREATE_NEW_PROCESS_GROUP"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NEW_PROCESS_GROUP</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.ABOVE_NORMAL_PRIORITY_CLASS" title="subprocess.ABOVE_NORMAL_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">ABOVE_NORMAL_PRIORITY_CLASS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.BELOW_NORMAL_PRIORITY_CLASS" title="subprocess.BELOW_NORMAL_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">BELOW_NORMAL_PRIORITY_CLASS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.HIGH_PRIORITY_CLASS" title="subprocess.HIGH_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">HIGH_PRIORITY_CLASS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.IDLE_PRIORITY_CLASS" title="subprocess.IDLE_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">IDLE_PRIORITY_CLASS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.NORMAL_PRIORITY_CLASS" title="subprocess.NORMAL_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">NORMAL_PRIORITY_CLASS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.REALTIME_PRIORITY_CLASS" title="subprocess.REALTIME_PRIORITY_CLASS"><code class="xref py py-data docutils literal notranslate"><span class="pre">REALTIME_PRIORITY_CLASS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NO_WINDOW" title="subprocess.CREATE_NO_WINDOW"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NO_WINDOW</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DETACHED_PROCESS" title="subprocess.DETACHED_PROCESS"><code class="xref py py-data docutils literal notranslate"><span class="pre">DETACHED_PROCESS</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_DEFAULT_ERROR_MODE" title="subprocess.CREATE_DEFAULT_ERROR_MODE"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_DEFAULT_ERROR_MODE</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_BREAKAWAY_FROM_JOB" title="subprocess.CREATE_BREAKAWAY_FROM_JOB"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_BREAKAWAY_FROM_JOB</span></code></a></li>
</ul>
</div></blockquote>
<p>Les objets <em>Popen</em> sont supportés comme gestionnaires de contexte avec l’instruction <a class="reference internal" href="https://docs.python.org/fr/3/reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>&nbsp;: à la sortie, les descripteurs de fichiers standards sont fermés, et le processus est attendu&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">"ifconfig"</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span> <span class="k">as</span> <span class="n">proc</span><span class="p">:</span>
    <span class="n">log</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">proc</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.2: </span>Ajout du support des gestionnaires de contexte.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.6: </span>Le destructeur de <em>Popen</em> émet maintenant un avertissement <a class="reference internal" href="https://docs.python.org/fr/3/library/exceptions.html#ResourceWarning" title="ResourceWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ResourceWarning</span></code></a> si le processus fils est toujours en cours d’exécution.</p>
</div>
</dd></dl>

</div>
<div class="section" id="exceptions">
<h3>17.5.1.3. Exceptions<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#exceptions" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les exceptions levées dans le processus fils, avant que le nouveau programme n’ait commencé son exécution, seront relayées dans le parent.  Additionnellement, l’objet de l’exception aura un attribut supplémentaire appelé <code class="xref py py-attr docutils literal notranslate"><span class="pre">child_traceback</span></code>, une chaîne de caractères contenant la trace de l’exception du point de vue du fils.</p>
<p>L’exception la plus communément levée est <a class="reference internal" href="https://docs.python.org/fr/3/library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>.  Elle survient, par exemple, si vous essayez d’exécuter un fichier inexistant.  Les applications doivent se préparer à traiter des exceptions <a class="reference internal" href="https://docs.python.org/fr/3/library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>.</p>
<p>Une <a class="reference internal" href="https://docs.python.org/fr/3/library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> sera levée si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> est appelé avec des arguments invalides.</p>
<p><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_call" title="subprocess.check_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_call()</span></code></a> et <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> lèveront une <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> si le processus appelé renvoie un code de retour non nul.</p>
<p>Toutes les fonctions et méthodes qui acceptent un paramètre <em>timeout</em>, telles que <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.call" title="subprocess.call"><code class="xref py py-func docutils literal notranslate"><span class="pre">call()</span></code></a> et <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a> lèveront une <code class="xref py py-exc docutils literal notranslate"><span class="pre">TImeoutExpired</span></code> si le <em>timeout</em> expire avant la fin du processus.</p>
<p>Toutes les exceptions définies dans ce module héritent de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3: </span>Ajout de la classe de base <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SubprocessError" title="subprocess.SubprocessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SubprocessError</span></code></a>.</p>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="security-considerations">
<h2>17.5.2. Considérations de sécurité<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#security-considerations" title="Lien permanent vers ce titre">¶</a></h2>
<p>Contrairement à quelques autres fonctions <em>popen</em>, cette implémentation n’appellera jamais implicitement le <em>shell</em> du système.  Cela signifie que tous les caractères, incluant les métacaractères des <em>shells</em>, peuvent être passés aux processus fils en toute sécurité. Si le <em>shell</em> est invoqué explicitement, avec <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, il est de la responsabilité de l’application d’assurer que les espaces et métacaractères sont échappés correctement pour éviter les vulnérabilités de type <a class="reference external" href="https://en.wikipedia.org/wiki/Shell_injection#Shell_injection">shell injection</a>.</p>
<p>Avec <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>, la fonction <a class="reference internal" href="https://docs.python.org/fr/3/library/shlex.html#shlex.quote" title="shlex.quote"><code class="xref py py-func docutils literal notranslate"><span class="pre">shlex.quote()</span></code></a> peut être utilisée pour échapper proprement les espaces et métacaractères dans les chaînes qui seront utilisées pour construire les commandes <em>shell</em>.</p>
</div>
<div class="section" id="popen-objects">
<h2>17.5.3. Objets <em>Popen</em><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#popen-objects" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les instances de la classe <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> possèdent les méthodes suivantes&nbsp;:</p>
<dl class="method">
<dt id="subprocess.Popen.poll">
<code class="descclassname">Popen.</code><code class="descname">poll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.poll" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Vérifie que le processus enfant s’est terminé.  Modifie et renvoie l’attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>, sinon, renvoie <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="subprocess.Popen.wait">
<code class="descclassname">Popen.</code><code class="descname">wait</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.wait" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Attend qu’un processus enfant se termine.  Modifie l’attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a> et le renvoie.</p>
<p>Si le processus ne se termine pas après le nombre de secondes spécifié par timeout*, lève une exception <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a>.  Cela ne pose aucun problème d’attraper cette exception et de réessayer d’attendre.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Cela provoquera un blocage (<em>deadlock</em>) lors de l’utilisation de <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> ou <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> si le processus fils génère tellement de données sur le tube qu’il le bloque, en attente que le système d’exploitation permette au tampon du tube d’accepter plus de données.  Utilisez <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.communicate()</span></code></a> pour éviter ce problème lors de l’utilisation de tubes.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Cette fonction est implémentée avec une attente active (appels non bloquants et <em>sleep</em> courts). Utilisez le module <a class="reference internal" href="https://docs.python.org/fr/3/library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O, event loop, coroutines and tasks."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> pour une attente asynchrone&nbsp;: voir <a class="reference internal" href="https://docs.python.org/fr/3/library/asyncio-subprocess.html#asyncio.create_subprocess_exec" title="asyncio.create_subprocess_exec"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.create_subprocess_exec</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3: </span>Ajout de <em>timeout</em>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="subprocess.Popen.communicate">
<code class="descclassname">Popen.</code><code class="descname">communicate</code><span class="sig-paren">(</span><em>input=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Interagit avec le processus&nbsp;: envoie des données sur l’entrée standard, lit en retour les données sur les sorties standard et d’erreur, et attend que le processus se termine.  L’argument optionnel <em>input</em> contient les données à envoyer au processus fils, ou <code class="docutils literal notranslate"><span class="pre">None</span></code> s’il n’y a aucune donnée à lui transmettre.  Si les flux sont ouverts en mode texte, <em>input</em> doit être une chaîne de caractère.  Autrement, ce doit être un objet <em>bytes</em>.</p>
<p><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">communicate()</span></code></a> renvoie un <em>tuple</em> <code class="docutils literal notranslate"><span class="pre">(stdout_data,</span> <span class="pre">stderr_data)</span></code>. Les données seront des chaînes de caractères si les flux sont ouverts en mode texte, et des objets <em>bytes</em> dans le cas contraire.</p>
<p>Notez que si vous souhaitez envoyer des données sur l’entrée standard du processus, vous devez créer l’objet <em>Popen</em> avec <code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code>.  Similairement, pour obtenir autre chose que <code class="docutils literal notranslate"><span class="pre">None</span></code> dans le <em>tuple</em> résultant, vous devez aussi préciser <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> et/ou <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code>.</p>
<p>Si le processus ne se termine pas après <em>timeout</em> secondes, une exception <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.TimeoutExpired" title="subprocess.TimeoutExpired"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutExpired</span></code></a> est levée.  Attraper cette exception et retenter la communication ne fait perdre aucune donnée de sortie.</p>
<p>Le processus enfant n’est pas tué si le <em>timeout</em> expire, donc afin de nettoyer proprement le tout, une application polie devrait tuer le processus fils et terminer la communication&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">outs</span><span class="p">,</span> <span class="n">errs</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">communicate</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="k">except</span> <span class="n">TimeoutExpired</span><span class="p">:</span>
    <span class="n">proc</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
    <span class="n">outs</span><span class="p">,</span> <span class="n">errs</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les données lues sont mises en cache en mémoire, donc n’utilisez pas cette méthode si la taille des données est importante voire illimitée.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3: </span>Ajout de <em>timeout</em>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="subprocess.Popen.send_signal">
<code class="descclassname">Popen.</code><code class="descname">send_signal</code><span class="sig-paren">(</span><em>signal</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.send_signal" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Envoie le signal <em>signal</em> au fils.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Sous Windows, <em>SIGTERM</em> est un alias pour <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.terminate" title="subprocess.Popen.terminate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">terminate()</span></code></a>. <em>CTRL_C_EVENT</em> et <em>CTRL_BREAK_EVENT</em> peuvent être envoyés aux processus démarrés avec un paramètre <em>creationflags</em> incluant <cite>CREATE_NEW_PROCESS_GROUP</cite>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="subprocess.Popen.terminate">
<code class="descclassname">Popen.</code><code class="descname">terminate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.terminate" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Stoppe le processus fils. Sur les systèmes POSIX, la méthode envoie un signal <em>SIGTERM</em> au fils. Sous Windows, la fonction <code class="xref c c-func docutils literal notranslate"><span class="pre">TerminateProcess()</span></code> de l’API <em>Win32</em> est appelée pour arrêter le fils.</p>
</dd></dl>

<dl class="method">
<dt id="subprocess.Popen.kill">
<code class="descclassname">Popen.</code><code class="descname">kill</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.kill" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Tue le processus fils. Sur les systèmes POSIX, la fonction envoie un signal <em>SIGKILL</em> au fils. Sous Windows, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.kill" title="subprocess.Popen.kill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">kill()</span></code></a> est un alias pour <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.terminate" title="subprocess.Popen.terminate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">terminate()</span></code></a>.</p>
</dd></dl>

<p>Les attributs suivants sont aussi disponibles&nbsp;:</p>
<dl class="attribute">
<dt id="subprocess.Popen.args">
<code class="descclassname">Popen.</code><code class="descname">args</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.args" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>L’argument <em>args</em> tel que passé à <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> – une séquence d’arguments du programme ou une simple chaîne de caractères.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.3.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.Popen.stdin">
<code class="descclassname">Popen.</code><code class="descname">stdin</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stdin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si l’argument <em>stdin</em> valait <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, cet attribut est un flux accessible en écriture comme renvoyé par <a class="reference internal" href="https://docs.python.org/fr/3/library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. Si les arguments <em>encoding</em> ou <em>errors</em> ont été spécifiés, ou si <em>universal_newlines</em> valait <code class="docutils literal notranslate"><span class="pre">True</span></code>, le flux est textuel, il est autrement binaire. Si l’argument <em>stdin</em> ne valait pas <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, cet attribut est <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.Popen.stdout">
<code class="descclassname">Popen.</code><code class="descname">stdout</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stdout" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si l’argument <em>stdout</em> valait <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, cet attribut est un flux accessible en lecture comme renvoyé par <a class="reference internal" href="https://docs.python.org/fr/3/library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. Lire depuis le flux fournit la sortie du processus fils. Si les arguments <em>encoding</em> ou <em>errors</em> ont été spécifiés, ou si <em>universal_newlines</em> valait <code class="docutils literal notranslate"><span class="pre">True</span></code>, le flux est textuel, il est autrement binaire. Si l’argument <em>stdout</em> ne valait pas <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, cet attribut est <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.Popen.stderr">
<code class="descclassname">Popen.</code><code class="descname">stderr</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stderr" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si l’argument <em>stderr</em> valait <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, cet attribut est un flux accessible en lecture comme renvoyé par <a class="reference internal" href="https://docs.python.org/fr/3/library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>. Lire depuis le flux fournit la sortie d’erreur du processus fils. Si les arguments <em>encoding</em> ou <em>errors</em> ont été spécifiés, ou si <em>universal_newlines</em> valait <code class="docutils literal notranslate"><span class="pre">True</span></code>, le flux est textuel, il est autrement binaire. Si l’argument <em>stderr</em> ne valait pas <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.PIPE" title="subprocess.PIPE"><code class="xref py py-data docutils literal notranslate"><span class="pre">PIPE</span></code></a>, cet attribut est <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">Utilisez <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">communicate()</span></code></a> plutôt que <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stdin" title="subprocess.Popen.stdin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">.stdin.write</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stdout" title="subprocess.Popen.stdout"><code class="xref py py-attr docutils literal notranslate"><span class="pre">.stdout.read</span></code></a> ou <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.stderr" title="subprocess.Popen.stderr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">.stderr.read</span></code></a> pour empêcher les <em>deadlocks</em> dus au remplissage des tampons des tubes de l’OS et bloquant le processus enfant.</p>
</div>
<dl class="attribute">
<dt id="subprocess.Popen.pid">
<code class="descclassname">Popen.</code><code class="descname">pid</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.pid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>L’identifiant de processus du processus enfant.</p>
<p>Notez que si vous passez l’argument <em>shell</em> à <code class="docutils literal notranslate"><span class="pre">True</span></code>, il s’agit alors de l’identifiant du <em>shell</em> instancié.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.Popen.returncode">
<code class="descclassname">Popen.</code><code class="descname">returncode</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.returncode" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le code de retour de l’enfant, attribué par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.poll" title="subprocess.Popen.poll"><code class="xref py py-meth docutils literal notranslate"><span class="pre">poll()</span></code></a> et <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.wait" title="subprocess.Popen.wait"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wait()</span></code></a> (et indirectement par <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">communicate()</span></code></a>).  Une valeur <code class="docutils literal notranslate"><span class="pre">None</span></code> indique que le processus ne s’est pas encore terminé.</p>
<p>Une valeur négative <code class="docutils literal notranslate"><span class="pre">-N</span></code> indique que le processus enfant a été terminé par un signal <code class="docutils literal notranslate"><span class="pre">N</span></code> (seulement sur les systèmes <em>POSIX</em>).</p>
</dd></dl>

</div>
<div class="section" id="windows-popen-helpers">
<h2>17.5.4. Utilitaires <em>Popen</em> pour Windows<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#windows-popen-helpers" title="Lien permanent vers ce titre">¶</a></h2>
<p>La classe <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code class="xref py py-class docutils literal notranslate"><span class="pre">STARTUPINFO</span></code></a> et les constantes suivantes sont seulement disponibles sous Windows.</p>
<dl class="class">
<dt id="subprocess.STARTUPINFO">
<em class="property">class </em><code class="descclassname">subprocess.</code><code class="descname">STARTUPINFO</code><span class="sig-paren">(</span><em>*</em>, <em>dwFlags=0</em>, <em>hStdInput=None</em>, <em>hStdOutput=None</em>, <em>hStdError=None</em>, <em>wShowWindow=0</em>, <em>lpAttributeList=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Partial support of the Windows
<a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms686331(v=vs.85).aspx">STARTUPINFO</a>
structure is used for <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> creation.  The following attributes can
be set by passing them as keyword-only arguments.</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.7: </span>Keyword-only argument support was added.</p>
</div>
<dl class="attribute">
<dt id="subprocess.STARTUPINFO.dwFlags">
<code class="descname">dwFlags</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.dwFlags" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un champ de bits déterminant si certains attributs <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code class="xref py py-class docutils literal notranslate"><span class="pre">STARTUPINFO</span></code></a> sont utilisés quand le processus crée une fenêtre&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">si</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">STARTUPINFO</span><span class="p">()</span>
<span class="n">si</span><span class="o">.</span><span class="n">dwFlags</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">STARTF_USESTDHANDLES</span> <span class="o">|</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">STARTF_USESHOWWINDOW</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.STARTUPINFO.hStdInput">
<code class="descname">hStdInput</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.hStdInput" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> spécifie <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, cet attribut est le gestionnaire d’entrée standard du processus. Si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a> n’est pas spécifié, l’entrée standard par défaut est le tampon du clavier.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.STARTUPINFO.hStdOutput">
<code class="descname">hStdOutput</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.hStdOutput" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> spécifie <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, cet attribut est le gestionnaire de sortie standard du processus. Autrement, l’attribut est ignoré et la sortie standard par défaut est le tampon de la console.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.STARTUPINFO.hStdError">
<code class="descname">hStdError</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.hStdError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> spécifie <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESTDHANDLES</span></code></a>, cet attribut est le gestionnaire de sortie d’erreur du processus. Autrement, l’attribut est ignoré et la sortie d’erreur par défaut est le tampon de la console.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.STARTUPINFO.wShowWindow">
<code class="descname">wShowWindow</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.wShowWindow" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dwFlags</span></code></a> spécifie <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESHOWWINDOW" title="subprocess.STARTF_USESHOWWINDOW"><code class="xref py py-data docutils literal notranslate"><span class="pre">STARTF_USESHOWWINDOW</span></code></a>, cet attribut peut-être n’importe quel attribut valide pour le paramètre <code class="docutils literal notranslate"><span class="pre">nCmdShow</span></code> de la fonction <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms633548(v=vs.85).aspx">ShowWindow</a>, à l’exception de <code class="docutils literal notranslate"><span class="pre">SW_SHOWDEFAULT</span></code>. Autrement, cet attribut est ignoré.</p>
<p><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SW_HIDE" title="subprocess.SW_HIDE"><code class="xref py py-data docutils literal notranslate"><span class="pre">SW_HIDE</span></code></a> est fourni pour cet attribut. Il est utilisé quand <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> est appelée avec <code class="docutils literal notranslate"><span class="pre">shell=True</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="subprocess.STARTUPINFO.lpAttributeList">
<code class="descname">lpAttributeList</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.lpAttributeList" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A dictionary of additional attributes for process creation as given in
<code class="docutils literal notranslate"><span class="pre">STARTUPINFOEX</span></code>, see
<a class="reference external" href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms686880(v=vs.85).aspx">UpdateProcThreadAttribute</a>.</p>
<p>Supported attributes:</p>
<dl class="docutils">
<dt><strong>handle_list</strong></dt>
<dd><p class="first">Sequence of handles that will be inherited. <em>close_fds</em> must be true if
non-empty.</p>
<p>The handles must be temporarily made inheritable by
<a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.set_handle_inheritable" title="os.set_handle_inheritable"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.set_handle_inheritable()</span></code></a> when passed to the <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a>
constructor, else <a class="reference internal" href="https://docs.python.org/fr/3/library/exceptions.html#OSError" title="OSError"><code class="xref py py-class docutils literal notranslate"><span class="pre">OSError</span></code></a> will be raised with Windows error
<code class="docutils literal notranslate"><span class="pre">ERROR_INVALID_PARAMETER</span></code> (87).</p>
<div class="last admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">In a multithreaded process, use caution to avoid leaking handles
that are marked inheritable when combining this feature with
concurrent calls to other process creation functions that inherit
all handles such as <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.system" title="os.system"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a>.  This also applies to
standard handle redirection, which temporarily creates inheritable
handles.</p>
</div>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

</dd></dl>

<div class="section" id="windows-constants">
<h3>17.5.4.1. Windows Constants<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#windows-constants" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le module <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> expose les constantes suivantes.</p>
<dl class="data">
<dt id="subprocess.STD_INPUT_HANDLE">
<code class="descclassname">subprocess.</code><code class="descname">STD_INPUT_HANDLE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STD_INPUT_HANDLE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le périphérique d’entrée standard. Initialement, il s’agit du tampon de la console d’entrée, <code class="docutils literal notranslate"><span class="pre">CONIN$</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.STD_OUTPUT_HANDLE">
<code class="descclassname">subprocess.</code><code class="descname">STD_OUTPUT_HANDLE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STD_OUTPUT_HANDLE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le périphérique de sortie standard. Initialement, il s’agit du tampon de l’écran de console actif, <code class="docutils literal notranslate"><span class="pre">CONOUT$</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.STD_ERROR_HANDLE">
<code class="descclassname">subprocess.</code><code class="descname">STD_ERROR_HANDLE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STD_ERROR_HANDLE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le périphérique de sortie d’erreur. Initialement, il s’agit du tampon de l’écran de console actif, <code class="docutils literal notranslate"><span class="pre">CONOUT$</span></code>.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.SW_HIDE">
<code class="descclassname">subprocess.</code><code class="descname">SW_HIDE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.SW_HIDE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cache la fenêtre. Une autre fenêtre sera activée.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.STARTF_USESTDHANDLES">
<code class="descclassname">subprocess.</code><code class="descname">STARTF_USESTDHANDLES</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESTDHANDLES" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Spécifie que les attributs <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.hStdInput" title="subprocess.STARTUPINFO.hStdInput"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.hStdInput</span></code></a>, <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.hStdOutput" title="subprocess.STARTUPINFO.hStdOutput"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.hStdOutput</span></code></a> et <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.hStdError" title="subprocess.STARTUPINFO.hStdError"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.hStdError</span></code></a> contiennent des informations additionnelles.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.STARTF_USESHOWWINDOW">
<code class="descclassname">subprocess.</code><code class="descname">STARTF_USESHOWWINDOW</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTF_USESHOWWINDOW" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Spécifie que l’attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.STARTUPINFO.wShowWindow" title="subprocess.STARTUPINFO.wShowWindow"><code class="xref py py-attr docutils literal notranslate"><span class="pre">STARTUPINFO.wShowWindow</span></code></a> contient des informations additionnelles.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.CREATE_NEW_CONSOLE">
<code class="descclassname">subprocess.</code><code class="descname">CREATE_NEW_CONSOLE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NEW_CONSOLE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Le nouveau processus instancie une nouvelle console, plutôt que d’hériter de celle de son père (par défaut).</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.CREATE_NEW_PROCESS_GROUP">
<code class="descclassname">subprocess.</code><code class="descname">CREATE_NEW_PROCESS_GROUP</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NEW_PROCESS_GROUP" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Un paramètre <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> pour spécifier si un nouveau groupe de processus doit être créé. Cette option est nécessaire pour utiliser <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.kill" title="os.kill"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.kill()</span></code></a> sur le sous-processus.</p>
<p>L’option est ignorée si <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NEW_CONSOLE" title="subprocess.CREATE_NEW_CONSOLE"><code class="xref py py-data docutils literal notranslate"><span class="pre">CREATE_NEW_CONSOLE</span></code></a> est spécifié.</p>
</dd></dl>

<dl class="data">
<dt id="subprocess.ABOVE_NORMAL_PRIORITY_CLASS">
<code class="descclassname">subprocess.</code><code class="descname">ABOVE_NORMAL_PRIORITY_CLASS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.ABOVE_NORMAL_PRIORITY_CLASS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will have an above average priority.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.BELOW_NORMAL_PRIORITY_CLASS">
<code class="descclassname">subprocess.</code><code class="descname">BELOW_NORMAL_PRIORITY_CLASS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.BELOW_NORMAL_PRIORITY_CLASS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will have a below average priority.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.HIGH_PRIORITY_CLASS">
<code class="descclassname">subprocess.</code><code class="descname">HIGH_PRIORITY_CLASS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.HIGH_PRIORITY_CLASS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will have a high priority.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.IDLE_PRIORITY_CLASS">
<code class="descclassname">subprocess.</code><code class="descname">IDLE_PRIORITY_CLASS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.IDLE_PRIORITY_CLASS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will have an idle (lowest) priority.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.NORMAL_PRIORITY_CLASS">
<code class="descclassname">subprocess.</code><code class="descname">NORMAL_PRIORITY_CLASS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.NORMAL_PRIORITY_CLASS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will have an normal priority. (default)</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.REALTIME_PRIORITY_CLASS">
<code class="descclassname">subprocess.</code><code class="descname">REALTIME_PRIORITY_CLASS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.REALTIME_PRIORITY_CLASS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will have realtime priority.
You should almost never use REALTIME_PRIORITY_CLASS, because this interrupts
system threads that manage mouse input, keyboard input, and background disk
flushing. This class can be appropriate for applications that «&nbsp;talk&nbsp;» directly
to hardware or that perform brief tasks that should have limited interruptions.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.CREATE_NO_WINDOW">
<code class="descclassname">subprocess.</code><code class="descname">CREATE_NO_WINDOW</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_NO_WINDOW" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will not create a window</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.DETACHED_PROCESS">
<code class="descclassname">subprocess.</code><code class="descname">DETACHED_PROCESS</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.DETACHED_PROCESS" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
will not inherit its parent’s console.
This value cannot be used with CREATE_NEW_CONSOLE.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.CREATE_DEFAULT_ERROR_MODE">
<code class="descclassname">subprocess.</code><code class="descname">CREATE_DEFAULT_ERROR_MODE</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_DEFAULT_ERROR_MODE" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
does not inherit the error mode of the calling process. Instead, the new
process gets the default error mode.
This feature is particularly useful for multithreaded shell applications
that run with hard errors disabled.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="subprocess.CREATE_BREAKAWAY_FROM_JOB">
<code class="descclassname">subprocess.</code><code class="descname">CREATE_BREAKAWAY_FROM_JOB</code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CREATE_BREAKAWAY_FROM_JOB" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> <code class="docutils literal notranslate"><span class="pre">creationflags</span></code> parameter to specify that a new process
is not associated with the job.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.7.</span></p>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="older-high-level-api">
<span id="call-function-trio"></span><h2>17.5.5. Ancienne interface (<em>API</em>) haut-niveau<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#older-high-level-api" title="Lien permanent vers ce titre">¶</a></h2>
<p>Avant Python 3.5, cest trois fonctions représentaient l’API haut-niveau de <em>subprocess</em>. Vous pouvez maintenant utiliser <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> dans de nombreux cas, mais beaucoup de codes existant font appel à ces trois fonctions.</p>
<dl class="function">
<dt id="subprocess.call">
<code class="descclassname">subprocess.</code><code class="descname">call</code><span class="sig-paren">(</span><em>args</em>, <em>*</em>, <em>stdin=None</em>, <em>stdout=None</em>, <em>stderr=None</em>, <em>shell=False</em>, <em>cwd=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.call" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lance la commande décrite par <em>args</em>, attend qu’elle se termine, et renvoie son attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.</p>
<p>C’est équivalent à&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">returncode</span>
</pre></div>
</div>
<p>(excepté que les paramètres <em>input</em> et <em>check</em> ne sont pas supportés)</p>
<p>Les arguments montrés plus haut sont sûrement les plus communs. La signature complète de la fonction est en grande partie la même que le constructeur de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> - cette fonction passe tous les arguments fournis autre que <em>timeout</em> directement à travers cette interface.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">N’utilisez pas <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> ou <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> avec cette fonction.  Le processus enfant bloquera s’il génère assez de données pour remplir le tampon du tube de l’OS, puisque les tubes ne seront jamais lus.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3: </span>Ajout de <em>timeout</em>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="subprocess.check_call">
<code class="descclassname">subprocess.</code><code class="descname">check_call</code><span class="sig-paren">(</span><em>args</em>, <em>*</em>, <em>stdin=None</em>, <em>stdout=None</em>, <em>stderr=None</em>, <em>shell=False</em>, <em>cwd=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_call" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lance la commande avec les arguments et attend qu’elle se termine. Se termine normalement si le code de retour est zéro, et lève une <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> autrement. L’objet <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> contiendra le code de retour dans son attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.returncode" title="subprocess.CalledProcessError.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.</p>
<p>C’est équivalent à&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>(excepté que le pramètre <em>input</em> n’est pas supporté)</p>
<p>Les arguments montrés plus haut sont sûrement les plus communs. La signature complète de la fonction est en grande partie la même que le constructeur de <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> - cette fonction passe tous les arguments fournis autre que <em>timeout</em> directement à travers cette interface.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">N’utilisez pas <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> ou <code class="docutils literal notranslate"><span class="pre">stderr=PIPE</span></code> avec cette fonction.  Le processus enfant bloquera s’il génère assez de données pour remplir le tampon du tube de l’OS, puisque les tubes ne seront jamais lus.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3: </span>Ajout de <em>timeout</em>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="subprocess.check_output">
<code class="descclassname">subprocess.</code><code class="descname">check_output</code><span class="sig-paren">(</span><em>args</em>, <em>*</em>, <em>stdin=None</em>, <em>stderr=None</em>, <em>shell=False</em>, <em>cwd=None</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>universal_newlines=False</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_output" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Lance la commande avec les arguments et renvoie sa sortie.</p>
<p>Si le code de retour est non-nul, la fonction lève une <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a>. L’objet <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> contiendra le code de retour dans son attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.returncode" title="subprocess.CalledProcessError.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>, et la sortie du programme dans son attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.output" title="subprocess.CalledProcessError.output"><code class="xref py py-attr docutils literal notranslate"><span class="pre">output</span></code></a>.</p>
<p>C’est équivalent à&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span><span class="o">.</span><span class="n">stdout</span>
</pre></div>
</div>
<p>Les arguments montrés plus haut sont sûrement les plus communs. La signature complète de la fonction est en grande partie la même que <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> - la plupart des arguments sont passés directement par cette interface.  Cependant, passer explicitement <code class="docutils literal notranslate"><span class="pre">input=None</span></code> pour hériter du gestionnaire d’entrée standard du parent n’est pas supporté.</p>
<p>Par défaut, cette fonction renvoie les données encodées sous forme de <em>bytes</em>. Le réel encodage des données de sortie peut dépendre de la commande invoquée, donc le décodage du texte devra souvent être géré au niveau de l’application.</p>
<p>Ce comportement peut être redéfini en mettant <em>universal_newlines</em> à <code class="docutils literal notranslate"><span class="pre">True</span></code> comme décrit ci-dessus dans <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#frequently-used-arguments"><span class="std std-ref">Arguments fréquemment utilisés</span></a>.</p>
<p>Pour capturer aussi la sortie d’erreur dans le résultat, utilisez <code class="docutils literal notranslate"><span class="pre">stderr=subprocess.STDOUT</span></code>&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">"ls non_existent_file; exit 0"</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">'ls: non_existent_file: No such file or directory\n'</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 3.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3: </span>Ajout de <em>timeout</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.4: </span>Ajout du support de l’argument nommé <em>input</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.6: </span>Ajout d”<em>encoding</em> et <em>errors</em>. Consultez <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.run" title="subprocess.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> pour plus d’informations.</p>
</div>
</dd></dl>

</div>
<div class="section" id="replacing-older-functions-with-the-subprocess-module">
<span id="subprocess-replacements"></span><h2>17.5.6. Remplacer les fonctions plus anciennes par le module <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans cette section, «&nbsp;a devient b&nbsp;» signifie que b peut être utilisée en remplacement de a.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Toutes les fonctions «&nbsp;a&nbsp;» dans cette section échouent (plus ou moins) silencieusement si le programme à exécuter ne peut être trouvé&nbsp;; les fonctions «&nbsp;b&nbsp;» de remplacement lèvent à la place une <a class="reference internal" href="https://docs.python.org/fr/3/library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>.</p>
<p class="last">De plus, les remplacements utilisant <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.check_output" title="subprocess.check_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_output()</span></code></a> échoueront avec une <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CalledProcessError</span></code></a> si l’opération requise produit un code de retour non-nul. La sortie est toujours disponible par l’attribut <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.CalledProcessError.output" title="subprocess.CalledProcessError.output"><code class="xref py py-attr docutils literal notranslate"><span class="pre">output</span></code></a> de l’exception levée.</p>
</div>
<p>Dans les exemples suivants, nous supposons que les fonctions utilisées ont déjà été importées depuis le module <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a>.</p>
<div class="section" id="replacing-bin-sh-shell-backquote">
<h3>17.5.6.1. Remplacement des <em>backquotes</em> des <em>shells /bin/sh</em><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-bin-sh-shell-backquote" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">output</span><span class="o">=</span><span class="sb">`</span>mycmd myarg<span class="sb">`</span>
</pre></div>
</div>
<p>devient&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">check_output</span><span class="p">([</span><span class="s2">"mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-shell-pipeline">
<h3>17.5.6.2. Remplacer les <em>pipes</em> du <em>shell</em><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-shell-pipeline" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">output</span><span class="o">=</span><span class="sb">`</span>dmesg <span class="p">|</span> grep hda<span class="sb">`</span>
</pre></div>
</div>
<p>devient&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">"dmesg"</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">"grep"</span><span class="p">,</span> <span class="s2">"hda"</span><span class="p">],</span> <span class="n">stdin</span><span class="o">=</span><span class="n">p1</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
<span class="n">p1</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Allow p1 to receive a SIGPIPE if p2 exits.</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">p2</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Le <em>p1.stdout.close()</em> appelé après le démarrage de p2 est important pour que p1 reçoive un <em>SIGPIPE</em> si p2 se termine avant lui.</p>
<p>Alternativement, pour des entrées fiables, le support des tubes du <em>shell</em> peut directement être utilisé&nbsp;:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">output</span><span class="o">=</span><span class="sb">`</span>dmesg <span class="p">|</span> grep hda<span class="sb">`</span>
</pre></div>
</div>
<p>devient&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">output</span><span class="o">=</span><span class="n">check_output</span><span class="p">(</span><span class="s2">"dmesg | grep hda"</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-os-system">
<h3>17.5.6.3. Remplacer <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.system" title="os.system"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.system()</span></code></a><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-os-system" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">sts</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">"mycmd"</span> <span class="o">+</span> <span class="s2">" myarg"</span><span class="p">)</span>
<span class="c1"># becomes</span>
<span class="n">sts</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s2">"mycmd"</span> <span class="o">+</span> <span class="s2">" myarg"</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Notes&nbsp;:</p>
<ul class="simple">
<li>Appeler le programme à travers un <em>shell</em> n’est habituellement pas requis.</li>
</ul>
<p>Un exemple plus réaliste ressemblerait à cela&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">(</span><span class="s2">"mycmd"</span> <span class="o">+</span> <span class="s2">" myarg"</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">retcode</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Child was terminated by signal"</span><span class="p">,</span> <span class="o">-</span><span class="n">retcode</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Child returned"</span><span class="p">,</span> <span class="n">retcode</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Execution failed:"</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-the-os-spawn-family">
<h3>17.5.6.4. Remplacer les fonctions de la famille <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.spawnl" title="os.spawnl"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.spawn</span></code></a><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-the-os-spawn-family" title="Lien permanent vers ce titre">¶</a></h3>
<p>Exemple avec <em>P_NOWAIT</em>&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">spawnlp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="s2">"/bin/mycmd"</span><span class="p">,</span> <span class="s2">"mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">pid</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">"/bin/mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">])</span><span class="o">.</span><span class="n">pid</span>
</pre></div>
</div>
<p>Exemple avec <em>P_WAIT</em>&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">retcode</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">spawnlp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_WAIT</span><span class="p">,</span> <span class="s2">"/bin/mycmd"</span><span class="p">,</span> <span class="s2">"mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">retcode</span> <span class="o">=</span> <span class="n">call</span><span class="p">([</span><span class="s2">"/bin/mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">])</span>
</pre></div>
</div>
<p>Exemple avec un tableau&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">spawnvp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">Popen</span><span class="p">([</span><span class="n">path</span><span class="p">]</span> <span class="o">+</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Exemple en passant un environnement&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">spawnlpe</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">P_NOWAIT</span><span class="p">,</span> <span class="s2">"/bin/mycmd"</span><span class="p">,</span> <span class="s2">"mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">,</span> <span class="n">env</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">Popen</span><span class="p">([</span><span class="s2">"/bin/mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">"PATH"</span><span class="p">:</span> <span class="s2">"/usr/bin"</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-os-popen-os-popen2-os-popen3">
<h3>17.5.6.5. Remplacer <a class="reference internal" href="https://docs.python.org/fr/3/library/os.html#os.popen" title="os.popen"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen2()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen3()</span></code> etc.<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-os-popen-os-popen2-os-popen3" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen2</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span>
 <span class="n">child_stdout</span><span class="p">,</span>
 <span class="n">child_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen3</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span>
 <span class="n">child_stdout</span><span class="p">,</span>
 <span class="n">child_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout_and_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen4</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdin</span><span class="p">,</span> <span class="n">child_stdout_and_stderr</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<p>La gestion du code de retour se traduit comme suit&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="n">pipe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">rc</span> <span class="o">=</span> <span class="n">pipe</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">if</span> <span class="n">rc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">rc</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"There were some errors"</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">process</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">process</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"There were some errors"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="replacing-functions-from-the-popen2-module">
<h3>17.5.6.6. Remplacer les fonctions du module <code class="xref py py-mod docutils literal notranslate"><span class="pre">popen2</span></code><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-functions-from-the-popen2-module" title="Lien permanent vers ce titre">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si l’argument <em>cmd</em> des fonctions de <em>popen2</em> est une chaîne de caractères, la commande est exécutée à travers <em>/bin/sh</em>.  Si c’est une liste, la commande est directement exécutée.</p>
</div>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="n">popen2</span><span class="o">.</span><span class="n">popen2</span><span class="p">(</span><span class="s2">"somestring"</span><span class="p">,</span> <span class="n">bufsize</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">(</span><span class="s2">"somestring"</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="n">popen2</span><span class="o">.</span><span class="n">popen2</span><span class="p">([</span><span class="s2">"mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">],</span> <span class="n">bufsize</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="o">==&gt;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s2">"mycmd"</span><span class="p">,</span> <span class="s2">"myarg"</span><span class="p">],</span> <span class="n">bufsize</span><span class="o">=</span><span class="n">bufsize</span><span class="p">,</span>
          <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">close_fds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">(</span><span class="n">child_stdout</span><span class="p">,</span> <span class="n">child_stdin</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">stdin</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">popen2.Popen3</span></code> et <code class="xref py py-class docutils literal notranslate"><span class="pre">popen2.Popen4</span></code> fonctionnent basiquement comme <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a>, excepté que&nbsp;:</p>
<ul class="simple">
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> lève une exception si l’exécution échoue.</li>
<li>L’argument <em>capturestderr</em> est remplacé par <em>stderr</em>.</li>
<li><code class="docutils literal notranslate"><span class="pre">stdin=PIPE</span></code> et <code class="docutils literal notranslate"><span class="pre">stdout=PIPE</span></code> doivent être spécifiés.</li>
<li><em>popen2</em> ferme tous les descripteurs de fichiers par défaut, mais vous devez spécifier <code class="docutils literal notranslate"><span class="pre">close_fds=True</span></code> avec <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> pour garantir ce comportement sur toutes les plateformes ou les anciennes versions de Python.</li>
</ul>
</div>
</div>
<div class="section" id="legacy-shell-invocation-functions">
<h2>17.5.7. Remplacement des fonctions originales d’invocation du <em>shell</em><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#legacy-shell-invocation-functions" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce module fournit aussi les fonctions suivantes héritées du module <code class="docutils literal notranslate"><span class="pre">commands</span></code> de Python 2.x. Ces opérations invoquent implicitement le <em>shell</em> du système et n’apportent aucune des garanties décrites ci-dessus par rapport à la sécurité ou la cohérence de la gestion des exceptions.</p>
<dl class="function">
<dt id="subprocess.getstatusoutput">
<code class="descclassname">subprocess.</code><code class="descname">getstatusoutput</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.getstatusoutput" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie les valeurs <code class="docutils literal notranslate"><span class="pre">(exitcode,</span> <span class="pre">output)</span></code> de l’exécution de <em>cmd</em> dans un <em>shell</em>.</p>
<p>Exécute la chaîne <em>cmd</em> dans un <em>shell</em> avec <code class="xref py py-meth docutils literal notranslate"><span class="pre">Popen.check_output()</span></code> et renvoie un <em>tuple</em> de 2 éléments <code class="docutils literal notranslate"><span class="pre">(exitcode,</span> <span class="pre">output)</span></code>. L’encodage local est utilisé, voir les notes de la section <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#frequently-used-arguments"><span class="std std-ref">Arguments fréquemment utilisés</span></a> pour plus de détails.</p>
<p>Si la sortie se termine par un caractère de fin de ligne, ce dernier est supprimé. Le code de statut de la commande peut être interprété comme le code de retour de <em>subprocess</em>.  Par exemple&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">'ls /bin/ls'</span><span class="p">)</span>
<span class="go">(0, '/bin/ls')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">'cat /bin/junk'</span><span class="p">)</span>
<span class="go">(1, 'cat: /bin/junk: No such file or directory')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">'/bin/junk'</span><span class="p">)</span>
<span class="go">(127, 'sh: /bin/junk: not found')</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getstatusoutput</span><span class="p">(</span><span class="s1">'/bin/kill $$'</span><span class="p">)</span>
<span class="go">(-15, '')</span>
</pre></div>
</div>
<p>Disponibilité&nbsp;: POSIX et Windows</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3.4: </span>Ajout du support Windows.</p>
<p>La fonction renvoie maintenant <em>(exitcode, output)</em> plutôt que <em>(status, output)</em> comme dans les versions de Python 3.3.3 ou antérieures.  Voir <code class="xref py py-func docutils literal notranslate"><span class="pre">WEXITSTATUS()</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="subprocess.getoutput">
<code class="descclassname">subprocess.</code><code class="descname">getoutput</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.getoutput" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Renvoie la sortie (standard et d’erreur) de l’exécution de <em>cmd</em> dans un <em>shell</em>.</p>
<p>Comme <a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#subprocess.getstatusoutput" title="subprocess.getstatusoutput"><code class="xref py py-func docutils literal notranslate"><span class="pre">getstatusoutput()</span></code></a>, à l’exception que le code de statut est ignoré et que la valeur de retour est une chaîne contenant la sortie de la commande.  Exemple&nbsp;:</p>
<div class="highlight-python3 notranslate" style="position: relative;"><div class="highlight"><span class="copybutton" title="Hide the prompts and output" style="cursor: pointer; position: absolute; top: 0px; right: 0px; border-color: rgb(170, 204, 153); border-style: solid; border-width: 1px; color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;">&gt;&gt;&gt;</span><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">getoutput</span><span class="p">(</span><span class="s1">'ls /bin/ls'</span><span class="p">)</span>
<span class="go">'/bin/ls'</span>
</pre></div>
</div>
<p>Disponibilité&nbsp;: POSIX et Windows</p>
<div class="versionchanged">
<p><span class="versionmodified">Modifié dans la version 3.3.4: </span>Ajout du support Windows.</p>
</div>
</dd></dl>

</div>
<div class="section" id="notes">
<h2>17.5.8. Notes<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#notes" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="converting-an-argument-sequence-to-a-string-on-windows">
<span id="converting-argument-sequence"></span><h3>17.5.8.1. Convertir une séquence d’arguments vers une chaîne de caractères sous Windows<a class="headerlink" href="https://docs.python.org/fr/3/library/subprocess.html#converting-an-argument-sequence-to-a-string-on-windows" title="Lien permanent vers ce titre">¶</a></h3>
<p>Sous Windows, une séquence <em>args</em> est convertie vers une chaîne qui peut être analysée avec les règles suivantes (qui correspondent aux règles utilisées par l’environnement <em>MS C</em>)&nbsp;:</p>
<ol class="arabic simple">
<li>Les arguments sont délimités par des espacements, qui peuvent être des espaces ou des tabulations.</li>
<li>Une chaîne entourée de double guillemets est interprétée comme un argument seul, qu’elle contienne ou non des espacements.  Une chaîne entre guillemets peut être intégrée dans un argument.</li>
<li>Un guillemet double précédé d’un <em>backslash</em> est interprété comme un guillemet double littéral.</li>
<li>Les <em>backslashs</em> sont interprétés littéralement, à moins qu’ils précèdent immédiatement un guillemet double.</li>
<li>Si des <em>backslashs</em> précèdent directement un guillemet double, toute paire de <em>backslashs</em> est interprétée comme un <em>backslash</em> littéral.  Si le nombre de <em>backslashs</em> est impair, le dernier <em>backslash</em> échappe le prochain guillemet double comme décrit en règle 3.</li>
</ol>
<div class="admonition seealso">
<p class="first admonition-title">Voir aussi</p>
<dl class="last docutils">
<dt><a class="reference internal" href="https://docs.python.org/fr/3/library/shlex.html#module-shlex" title="shlex: Simple lexical analysis for Unix shell-like languages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shlex</span></code></a></dt>
<dd>Module qui fournit des fonctions pour analyser et échapper les lignes de commandes.</dd>
</dl>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper" style="float: left; margin-right: 0px; width: 202px; top: 11861.2px;">
  <h3><a href="https://docs.python.org/fr/3/contents.html">Table des Matières</a></h3>
  <ul>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#">17.5. <code class="docutils literal notranslate"><span class="pre">subprocess</span></code> — Gestion de sous-processus</a><ul>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#using-the-subprocess-module">17.5.1. Utiliser le module <code class="docutils literal notranslate"><span class="pre">subprocess</span></code></a><ul>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#frequently-used-arguments">17.5.1.1. Arguments fréquemment utilisés</a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#popen-constructor">17.5.1.2. Constructeur de <em>Popen</em></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#exceptions">17.5.1.3. Exceptions</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#security-considerations">17.5.2. Considérations de sécurité</a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#popen-objects">17.5.3. Objets <em>Popen</em></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#windows-popen-helpers">17.5.4. Utilitaires <em>Popen</em> pour Windows</a><ul>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#windows-constants">17.5.4.1. Windows Constants</a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#older-high-level-api">17.5.5. Ancienne interface (<em>API</em>) haut-niveau</a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module">17.5.6. Remplacer les fonctions plus anciennes par le module <code class="docutils literal notranslate"><span class="pre">subprocess</span></code></a><ul>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-bin-sh-shell-backquote">17.5.6.1. Remplacement des <em>backquotes</em> des <em>shells /bin/sh</em></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-shell-pipeline">17.5.6.2. Remplacer les <em>pipes</em> du <em>shell</em></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-os-system">17.5.6.3. Remplacer <code class="docutils literal notranslate"><span class="pre">os.system()</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-the-os-spawn-family">17.5.6.4. Remplacer les fonctions de la famille <code class="docutils literal notranslate"><span class="pre">os.spawn</span></code></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-os-popen-os-popen2-os-popen3">17.5.6.5. Remplacer <code class="docutils literal notranslate"><span class="pre">os.popen()</span></code>, <code class="docutils literal notranslate"><span class="pre">os.popen2()</span></code>, <code class="docutils literal notranslate"><span class="pre">os.popen3()</span></code> etc.</a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#replacing-functions-from-the-popen2-module">17.5.6.6. Remplacer les fonctions du module <code class="docutils literal notranslate"><span class="pre">popen2</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#legacy-shell-invocation-functions">17.5.7. Remplacement des fonctions originales d’invocation du <em>shell</em></a></li>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#notes">17.5.8. Notes</a><ul>
<li><a class="reference internal" href="https://docs.python.org/fr/3/library/subprocess.html#converting-an-argument-sequence-to-a-string-on-windows">17.5.8.1. Convertir une séquence d’arguments vers une chaîne de caractères sous Windows</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="https://docs.python.org/fr/3/library/concurrent.futures.html" title="Chapitre précédent">17.4. <code class="docutils literal notranslate"><span class="pre">concurrent.futures</span></code> — Launching parallel tasks</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="https://docs.python.org/fr/3/library/sched.html" title="Chapitre suivant">17.6. <code class="docutils literal notranslate"><span class="pre">sched</span></code> — Event scheduler</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="https://docs.python.org/fr/3/bugs.html">Signalement de bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.7/Doc/library/subprocess.rst" rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </div>
      <div id="sidebarbutton" title="Réduire la barre latérale" style="border-radius: 0px 5px 5px 0px; color: rgb(68, 68, 68); background-color: rgb(204, 204, 204); font-size: 1.2em; cursor: pointer; height: 25511.2px; padding-top: 1px; padding-left: 1px; margin-left: 218px;"><span style="display: block; position: fixed; top: 475px;">«</span></div></div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="https://docs.python.org/fr/3/genindex.html" title="Index général">index</a></li>
        <li class="right">
          <a href="https://docs.python.org/fr/3/py-modindex.html" title="Index des modules Python">modules</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/fr/3/library/sched.html" title="17.6. sched — Event scheduler">suivant</a> |</li>
        <li class="right">
          <a href="https://docs.python.org/fr/3/library/concurrent.futures.html" title="17.4. concurrent.futures — Launching parallel tasks">précédent</a> |</li>
        <li><img src="./17.5. subprocess — Gestion de sous-processus — Documentation Python 3.7.0_files/py.png" alt="" style="vertical-align: middle; margin-top: -1px"></li>
        <li><a href="https://www.python.org/">Python</a> »</li>
        <li>
          <span class="language_switcher_placeholder"><select><option value="en">English</option><option value="fr" selected="selected">French</option><option value="ja">Japanese</option><option value="ko">Korean</option></select></span>
          <span class="version_switcher_placeholder"><select><option value="3.8">dev (3.8)</option><option value="3.7" selected="selected">3.7.0</option><option value="3.6">3.6</option><option value="3.5">3.5</option><option value="2.7">2.7</option></select></span>
          <a href="https://docs.python.org/fr/3/index.html">Documentation</a> »
        </li>

          <li class="nav-item nav-item-1"><a href="https://docs.python.org/fr/3/library/index.html">La bibliothèque standard</a> »</li>
          <li class="nav-item nav-item-2"><a href="https://docs.python.org/fr/3/library/concurrency.html">17. Exécution concourante</a> »</li>
    <li class="right">
        

    <div class="inline-search" style="" role="search">
        <form class="inline-search" action="https://docs.python.org/fr/3/search.html" method="get">
          <input placeholder="Recherche rapide" type="text" name="q">
          <input type="submit" value="Go">
          <input type="hidden" name="check_keywords" value="yes">
          <input type="hidden" name="area" value="default">
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    © <a href="https://docs.python.org/fr/3/copyright.html">Copyright</a> 2001-2018, Python Software Foundation.
    <br>
    La Python Software Foundation est une organisation à but non lucratif.
    <a href="https://www.python.org/psf/donations/">Les dons sont bienvenus.</a>
    <br>
    Dernière mise-à-jour le juil. 13, 2018.
    <a href="https://docs.python.org/fr/3/bugs.html">Vous avez trouvé un bug</a> ?
    <br>
    Créé via <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.7.5.
    </div>

  
</body></html>